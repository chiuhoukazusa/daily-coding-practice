# Voronoi 图生成器

## 项目描述

一个使用 C++ 实现的 Voronoi 图（泰森多边形）生成器。该程序随机生成种子点，计算每个像素到最近种子点的距离，并为每个 Voronoi 单元着色，生成美观的细胞状图案。

Voronoi 图在计算几何、图形学和游戏开发中有广泛应用：
- 程序化地图生成（Roguelike 游戏）
- 纹理合成（有机图案）
- 空间划分算法
- 最近邻查询可视化

## 编译运行

```bash
# 编译
g++ -std=c++11 -O2 voronoi.cpp -o voronoi

# 运行
./voronoi
```

程序会生成 `voronoi.png` 图像文件（800x600 像素）。

## 输出结果

![Voronoi图](voronoi.png)

图中展示了 50 个随机种子点生成的 Voronoi 图，每个单元使用不同的随机颜色，白点标记种子位置。

## 技术要点

### 算法实现
- **暴力法 Voronoi 生成**：遍历每个像素，计算到所有种子点的距离，选择最近的
- **时间复杂度**：O(N × W × H)，其中 N 是种子点数量，W×H 是图像尺寸
- **优化空间**：可使用 Fortune 算法或跳点算法优化到 O(N log N)

### 图像处理
- 使用 **stb_image_write.h** 单头文件库保存 PNG 图像
- RGB 三通道颜色表示
- 种子点标记（3×3 白色像素）

### 随机数生成
- 使用 C++11 `<random>` 库的 Mersenne Twister 引擎
- 均匀分布生成位置和颜色

## 代码结构

```cpp
struct Point {
    float x, y;           // 种子点坐标
    unsigned char r, g, b; // 种子点颜色
};

float distance(...)           // 欧式距离计算
vector<Point> generateSeeds() // 生成随机种子点
void generateVoronoi(...)     // 核心算法：生成Voronoi图
void drawSeeds(...)           // 标记种子点位置
```

## 扩展方向

- [ ] **距离度量**：尝试曼哈顿距离、切比雪夫距离
- [ ] **松弛算法**：实现 Lloyd 松弛生成更均匀的分布
- [ ] **边界绘制**：绘制 Voronoi 单元的边界线
- [ ] **动画生成**：生成种子点移动的动画序列
- [ ] **3D Voronoi**：扩展到三维空间

## 依赖

- **C++ 编译器**：支持 C++11 标准（g++ 4.8+, clang 3.3+）
- **stb_image_write.h**：单头文件图像库（已包含）

## 迭代历史

- **初始版本**：实现基本 Voronoi 生成算法
- ✅ **编译成功**：0 错误，0 警告（stb 库内部警告可忽略）
- ✅ **运行成功**：生成 25KB PNG 图像
- ✅ **验证通过**：图像格式正确，视觉效果符合预期

---

**开发日期**：2026-02-11  
**开发时间**：10 分钟  
**语言**：C++11  
**输出**：800×600 PNG 图像
